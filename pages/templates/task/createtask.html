<html>
    <head>
  {% load static %}
  {% load bootstrap_icons %}
   <link rel="stylesheet" href="{% static 'global.css' %}">  
   <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
   <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
   
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Madimi+One&display=swap" rel="stylesheet">
   
</head>
    <body>
        {% include 'navbar.html' %}
    <div class="create-task-container">
        <h1 class="mt-2 text-center heading-font">Create Task {{group_data.group_name}}<img
            class="create-group-img"
            src="{% static 'images/create-group.png' %}"
            alt="Card image cap"
          /></h1>
        <form method="post" action="{% url 'update_create_group' %}">
            {% csrf_token %}
            <div class="row form-group my-3">
                <h5 class="col-md-3 text-center " for="group_name">Task brief:</h5>
                <div class="col-md-8">
                <input type="text" class="col-md-6 form-control" id="group_name" name="group_name" required>
                </div>
            </div>
            <div class="row form-group my-3">
                <h5 class="col-md-3 text-center" for="description">Task Description:</h5>
                <div class="col-md-8">
                    <textarea class="form-control" id="description" name="description" rows="4" required></textarea>
                </div>
            </div>
            <div class="select-user-container my-3">
                <div class="dropdown my-3">
                    <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Select Users
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton" id="userDropdown">
                    </div>
                </div>
                <label>Assign to:</label>
                <div id="selectedGroupMember">
            </div> 
            </div>
            <div class="row form-group my-3">
                <h5 class="col-3">Due date:</h5>
                <div class="col-md-8">
                <input class="datepicker" type="date" id="date" name="date">
                </div>
        </div>

        <div id="selectedUsers"></div>
      
        <input type="hidden" name="selected_users" id="selected_users_input" value="">
        <div  class="row mt-5">
            <h5 class="col-3">Priority</h5>
            <div class="btn-group col-6 " role="group" aria-label="Priority Selector">
                <button type="button" class="btn btn-secondary active" id="priorityHigh">High</button>
                <button type="button" class="btn btn-secondary" id="priorityMedium">Medium</button>
                <button type="button" class="btn btn-secondary" id="priorityLow">Low</button>
            </div>
        </div>
        <div  class="row mt-5">
            <h5 class="col-3">Status</h5>
            <div class="btn-group col-6 " role="group" aria-label="Priority Selector">
                <button type="button" class="btn btn-light border border-primary active" id="priorityHigh">Not Started</button>
                <button type="button" class="btn btn-warning border border-primary" id="priorityMedium">In Progress</button>
                <button type="button" class="btn btn-success border border-primary" id="priorityLow">Completed</button>
            </div>
        </div>
         

        <div class="row mt-5">
            <h5 class="col-3">Upload File</h5>

            <input class="col-6" type="file"> 
        </div>

        <div class="create-submit-container mt-5">
            <button type="submit" class="btn btn-primary mt-2 create-group-submit">Create Task</button>
        </div> 

   
    </form>
        <script>
            let group_id= {{ group_id }};
            fetch(`/fetch_group_data/${group_id}/`)
            .then(response => response.json())
            .then(data => {
                console.log(data);
            });

        </script>
    </body>
</html>

